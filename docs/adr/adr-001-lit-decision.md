# ADR-0001: Why Use Lit for Web Components

## 1. Status

**Accepted**

## 2. Context

This project is a "brownfield" Task Management Application, initially generated by AI. The generated code utilizes the
**Lit** library for building web components. 

The primary alternative would be to use "vanilla" (native) Web Component APIs. This ADR documents the decision on 
whether to retain Lit or refactor to vanilla web components.

## 3. Decision

I will **retain and embrace Lit** as the core component library for this project.

## 4. Consequences

### Comparison: Lit vs. Vanilla Web Components (Made by Gemeni)

| Feature | Vanilla Web Components | Lit (LitElement) | Rationale for Choice |
| :--- | :--- | :--- | :--- |
| **Boilerplate** | **High.** Requires manual setup for `constructor`, `connectedCallback`, `attributeChangedCallback`, and `shadowRoot`. | **Low.** `LitElement` base class and `@property` decorators handle this automatically. | **Win:** Lit drastically reduces boilerplate. |
| **Reactivity** | **Manual.** Must use `attributeChangedCallback` to listen for changes and imperatively update the DOM. | **Declarative.** Reactive properties automatically trigger efficient re-renders when their state changes. | **Win:** Lit provides a modern, predictable, and performant state management model. |
| **Templating** | **Imperative.** Requires manual `document.createElement`, `template.content.cloneNode(true)`, or unsafe `innerHTML`. | **Declarative.** Uses `lit-html` tagged template literals, which are fast, expressive, and secure (XSS protection). | **Win:** Lit's templating is faster, safer, and much easier to read and write. |
| **Scoped Styles** | **Yes.** Supported via Shadow DOM, but requires manual creation of `<style>` tags or `adoptedStyleSheets`. | **Yes.** Simplified via a `static styles` class field. | **Win:** Lit simplifies CSS encapsulation. |
| **Bundle Size** | Minimal (browser native). | **Small** (~5 KB minified/gzipped). | **Neutral:** The tiny bundle size is a more-than-acceptable trade-off for the massive DX improvements. |

### Pros of Retaining Lit

* **Productivity:** We can refactor and build features faster.
* **Readability:** Declarative code is easier to understand and maintain.
* **Performance:** `lit-html` provides efficient DOM diffing and updates, avoiding unnecessary full-component re-renders.
* **Interoperability:** As Lit builds standard Web Components, our components remain interoperable and "future-proof."

### Cons of Retaining Lit

* **Dependency:** We must manage a (very small) third-party dependency.
* **Learning Curve:** Requires basic understanding of `LitElement`, `html`, and `css` tags (minimal).

### Other Architectural Decisions

* **E2E Testing:** We will use **Playwright** for E2E testing, as it has excellent first-class support for Shadow DOM, which is essential for testing Lit components.
* **Documentation:** We will use **JSDoc** for documentation, as it works perfectly with Lit's standard JavaScript class-based components.